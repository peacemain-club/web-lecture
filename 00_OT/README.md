# 웹 개발

웹 브라우저 위에서 돌아가는 웹 어플리케이션을 개발하는 것.

# 개발환경

## OS

웹개발은 OS에 종속적이지 않다. 즉, 어느 OS에서든 개발이 가능하다. 왜냐? 웹개발은 브라우저(Chrome, Edge, Safari 등)위에서 돌아가는 어플리케이션을 개발하는 것이기 때문이다. 그래서 브라우저가 돌아가면, 개발한 웹도 (웬만해서는) 돌아간다.

브라우저에 따라 지원하지 않는 기능이 있어서 돌아가지 않을 수도 있다. 과거에는 브라우저를 만드는 회사마다 독자적인 표준을 가지고 만들었지만, 요즘은 점차 하나의 표준으로 만들기 때문에 브라우저가 지원하지 않아서 작동하지 않는 경우는 업다. 다만, 한국 한정으로 옛날 브라우저의 대표적인 예시인 인터넷 익스플로러와 특수 목적용의 대표적인 예시인 오페라 미니(저사양에서 사용하기 위한 목적)는 이런 문제가 종종 발생한다. 그래서 **Polyfill**이라는 방법을 사용해서 지원하지 않는 기능도 웹 어플리케이션에서 사용할 수 있도록 할 수는 있다.

![cdI1K9o](https://user-images.githubusercontent.com/35324795/108626535-f850ee00-7493-11eb-89cd-00f50fdd5641.jpg)

참고로 웹 개발을 할 때 운영체제를 볼 때 Linux와 Mac은 속도가 윈도우에 비해서 좀 많이 빠른 것 같다.

## Git

소스코드 변경사항을 추적하고 여러 사용자들 간의 코딩 작업을 관리하기 위한 분산 버전 관리 시스템. 리눅스의 개발자 리누스 토르발즈가 개발했고, 현재 가장 널리 쓰이는 버전 관리 시스템이다. 앞으로 개발자가 되면 신나게 만나게 될 시스템이다.

### 설치

#### Windows

[http://git-scm.com/download/win](http://git-scm.com/download/win) 에서 설치하면 된다.

#### Mac

Xcode Command Line Tools를 설치하면 함께 설치된다. 최근에는 여기서 제공하는 Apple Git이 버전이 낮아서 Github에서 경고를 보내는 듯 하다.

#### Linux

Linux(데비안 계열)의 경우에는 터미널에서

```bash
$ sudo apt install git-all
```

명령어를 입력하여 설치가 가능하다.

자세한 내용은 나중에, 코드 버전 관리와 협업이 필요해질 때에 자세하게 언급하도록 하자.

## NodeJS

**자바스크립트 런타임** 환경으로, 주로 서버 사이드의 개발을 위해 사용된다. 웹 개발을 할 때 따로 자바스크립트를 실행시켜야 하는 경우에도 필요하기 때문에 설치가 필요하다.

[Node.js 설치 링크](https://nodejs.org/ko/)

현재 LTS인 버전은 10.x, 12.x, 14.x 버전. 최신 버전은 15.x 버전이다. 최신 LTS를 사용하는 것이 좋지만, 서버리스 플랫폼 등 특정 플랫폼이 지원하는 버전의 경우 그것을 사용해야 한다. (Google Cloud Functions는 현재 12.x 까지 지원) 나중에 백엔드와의 호환을 위해서 **여기서는 12.x를 다운받도록 하자**

*** LTS(Long Term Support) : 장기간 동안 유지보수가 이루어지는 버전. NodeJS의 경우 3년.

여러 버전의 NodeJS를 사용하게 되면 각 버전을 바꿀 수 있어야 하는데 그때는 **n**이라는 NodeJS 버전 관리 모듈을 사용하면 된다. 설치방법은 이후에 터미널을 언급하고 다시 다루도록 하겠다.

### NPM (Node Package Manager)

NodeJS를 사용하게 되면 세계 최대의 패키지 저장소인 NPM에 접근할 수 있다. NodeJS를 설치하면 함께 설치가 되며, 자바스크립트 또는 타입스크립트로 제작된 백만개가 넘는 패키지(모듈)에 접근 할 수 있다.

NPM으로 NodeJS 프로젝트를 만들기 위해서는

```bash
$ npm init
```

명령어를 사용한다. 그러면 프로젝트에 대한 여러가지 정보를 입력할 수 있다. 입력이 완료되면 `package.json` 파일이 생성되는데 프로젝트에 관한 정보가 모두 들어있다.

```json
{
  "name": "npm example",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "express": "^4.17.1"
  }
}
```

기본적으로 `npm init`을 했을 때 생기는 `package.json` 파일이다. 여기에 패키지를 설치해보자.

패키지 설치를 위해서는, 아래의 명령어를 입력하면 된다.

```bash
$ npm install --save <package name>
```

예시로 웹 서버 개발에 가장 많이 쓰이는 `Express JS` 를 설치해보자.

```bash
$ npm install --save express
```

그러면 `package.json` 파일에 `dependencies` 항목이 생긴다.

```json
{
  "name": "npm",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "express": "^4.17.1"
  }
}
```

`dependencies`는 종속성이라는 뜻으로, 이 프로젝트가 어떤 패키지(모듈)을 사용하고 있다는 것을 의미한다.

#### 키워드

Npm에는 여러가지 명령어가 있고 다른 패키지 매니저가 있는데, 검색해서 찾아보자.

- yarn (패키지 매니저)
- `npm install --save-dev <package name>`
- `npm install --global <package name>`
- `npm install`

## 코드 에디터

코딩을 할 환경을 선택해야한다. C언어를 할 때는 Visual Studio, 자바를 할 때는 Eclipse를 사용해 본 경험이 있을 것이다. 자바스크립트, 특히 웹개발,을 할 때는 여러가지 선택지가 있다.

- Visual Studio Code
- Brackets
- Atom
- Sublime Text
- WebStorm

이 중에서 WebStrom은 JetBrains에서 개발한 IDE이고, 나머지는 텍스트 에디터에 코딩에 필요한 기능을 넣은 것이다. 무엇을 선택하든 개인의 취향이지만 가장 많은 사람들이 Visual Studio Code를 사용하고 있다. (참고로 VSCode와 Atom은 자바스크립트로 개발되었다!)

설치는 아래의 링크에서 할 수 있다.

[Visual Studio Code](https://code.visualstudio.com/)

## Postman

웹 개발을 하다보면 자체 개발한 API 또는 외부 API를 사용해야 할 때가 많다. 그럴 때 사용하는 도구로 HTTP 요청을 보낼 때 Params, Query, Header, Body 등 요청에 포함되는 정보를 쉽게 조작해서 결과를 확인하는데 주로 쓰인다.

백엔드 개발을 할 때에는 개발한 API를 테스트 해보는 용도로 쓰인다.

**설치하자**

[Postman](https://www.postman.com/downloads/)

## Terminal

운영체제의 GUI 위에서 동작하는 Command Line Interface(CLI)를 뜻한다. 운영체제마다 다른 터미널을 가지고 있다.

- 윈도우: 명령 프롬프트, Power Shell, Windows Terminal
- Mac: Z Shell, Bash
- Linux: Shell

터미널의 주된 사용 용도로는

- 디렉토리 관리
- 패키지 매니저 사용
- NodeJS 버전 관리
- Git
- 글로벌 패키지 사용

등이 있다.

Mac이나 Linux를 사용할 경우, 기본 터미널을 사용해도 충분하지만, 윈도우의 경우 다른 운영체제와 맞추기 위해 Git설치시에 같이 설치되는 Git Bash를 사용하면 Bash 터미널을 사용할 수 있게 된다.

맥은 z shell 설치하고 iterm2를 깔자 그게 좋다.

터미널을 사용하면서 기본적으로 알아야 할 개념들이 몇가지 있는데,

### 디렉토리(경로, Path)

디렉토리는 파일 또는 폴더의 위치를 나타낸 문자열이다. 경로라고도 하며, 크게 상대경로와 절대 경로로 나뉘는데,

상대경로는 현재 폴더를 기준으로 다른 파일의 위치를 나타내는 방식이고, 절대경로는 컴퓨터의 루트 경로로 부터의 위치를 나타내는 방식이다.

```
User (최상단 폴더)
|- here(현재위치)
|
|- src
    |--index.js
```

위와 같은 폴더구조가 있다고 치자, `src` 폴더의 `index.js` 파일의 경로를 알고 싶다고 하면,

- 상대경로 : `../src/index.js`
- 절대경로 : `User/src/index.js`

위와 같이 나타난다.

`.` 과 `..` 은 무엇을 나타낼까?

- `.` : 현재폴더
- `..` : 한 단계 상위 폴더

를 나타낸다.

### 명령어

터미널에 입력하는 명령어이다. 명령어에는 여러가지 종류가 있는데, 터미널에 내장된 명령어도 있고, 설치한 프로그램을 실행하기 위한 명령어도 있다.

내장된 명령어들을 몇가지 살펴보면,

- `cd` : 디렉토리 이동 명령어. 현재 폴더를 기준으로 상대경로를 입력하면 다른 디렉토리로로 이동할 수 있다.

```bash
$ cd ./src // 현재폴더의 아래에 있는 src 폴더로 이동
```

- `ls` : 현재 폴더에 있는 모든 파일, 폴더를 보여주는 명령어. `ls -a` 명령어를 사용하면 숨김파일 및 폴더까지 보여 준다.
- `mkdir` : 폴더 생성 명령어. 뒤에 만들 폴더의 이름을 입력하면 그 이름의 폴더가 생성된다.
- `touch` : 파일 생성 명령어. 뒤에 만들 파일의 이름을 입력하면 그 이름의 파일이 생성된다.

이외에도,

- `rm`
- `cp`
- `mv`

등이 있다.

설치된 프로그램을 실행하기 위한 명령어를 알아보기 위해 예시로, 위에서 설치한 Visual Studio Code를 사용해 보도록 하겠다.

Visual Studio Code를 설치할 때 환경변수에 설정을 하면, 자동으로 그 실행 명령어가 환경변수에 설정이 되는데(따로 터미널에서 사용을 위해서 환경변수를 설정해줘야 하는 프로그램도 있다.), VS Code의 명령어는 `code`이다.

```bash
$ code .
```

위의 명령어를 실행하면, 현재 폴더를 기반으로 Visual Studio Code가 열리게 된다.

### n 패키지

위에서 언급했던 NodeJS 버전 관리를 위한 패키지를 설치해보자. n은 컴퓨터 전체에 설치된 NodeJS의 버전을 관리해야 하기 때문에 컴퓨터에 global하게 설치해야한다.

```bash
$ npm install --global n
```

위의 명령어를 입력하면, 컴퓨터에 전역으로 n 패키지가 설치된다. 혹시 오류가 나는 경우 권한 문제(명령어 제일 앞에 sudo를 붙여주면 해결)나 인터넷 연결문제(인터넷이 연결되면 해결)일 가능성이 높으니 해결하고 다시 설치해보자.

이제 n을 사용해보자. n의 경우에는 컴퓨터 전역에 설치된 NodeJ에 접근해야 하기 때문에 앞에 sudo를 붙여줘야 작동할 것이다.

```bash
$ sudo n
```

위의 명령어를 입력하면 현재 컴퓨터에 설치된 NodeJS의 버전들이 리스트로 보여지고 각 버전을 선택해서 해당 버전으로 바꿀 수도 있다. 다른 버전이 없다면 하나 설치해보자

```bash
$ sudo n stable
```

위의 명령어를 입력하면 가장 안정적인 버전의 NodeJS가 설치될 것이다.

## Github

Git에는 원격 저장소와 로컬 저장소라는 개념이 있다. 로컬 저장소는 컴퓨터에 Git의 버전 관리를 저장해 두는 것이고, 원격 저장소는 온라인의 어딘가에 저장해두는 것이다.

원격 저장소를 호스팅하는 것은 여러분이 직접 할 수도 있지만, 다양한 기능을 탑재하여 편리하게 사용할 수 있는 원격 저장소 호스팅 업체가 많다. 그 중에서 가장 크고 가장 많은 코드가 저장된 GitHub를 사용하도록 하겠다.

[GitHub](https://www.github.com/)

깃허브는 저장소라는 단위로 구성이 된다. 각 저장소에서는 코드를 다운 받을 수 있는데,

![github](https://firebasestorage.googleapis.com/v0/b/wingtree-cloud.appspot.com/o/images%2FOT_1.png?alt=media&token=34123296-98d8-4f5b-8845-1779bb431a01)

아래의 Code 버튼을 눌러서 zip 파일로 다운 받거나, 터미널에서

```bash
$ git clone https://github.com/peacemain-club/web-lecture.git
```

명령어 입력으로 다운받을 수 있다.

이 외에도, Pull Request, Issue 관리 등 여러가지 기능들이 있지만, 나중에 자세하게 알아보자.

# 웹의 동작 방식

웹에 연결된 두개의 컴퓨터가 있음. 하나는 유저가 사용하는 **클라이언트**, 다른 하나는 클라이언트에게 파일과 데이터를 보내주는 **서버**라고 한다.

## 웹 어플리케이션의 동작

1. 브라우저에서 유저가 URL을 입력한다.
2. 브라우저는 DNS 서버로 가서 웹사이트가 있는 서버의 진짜 주소를 찾는다.
3. 브라우저는 서버에게 웹사이트의 파일과 데이터를 클라이언트에게 보내달라는 HTTP 요청을 보낸다. 클라이언트와 서버 간의 데이터는 TCP/IP 통신을 통해서 전송된다.
4. 요청을 받은 서버는 200 OK 라는 메세지를 클라이언트에게 보내주고 이어서 웹사이트의 파일과 데이터를 쪼개서 데이터 패킷안에 넣고 브라우저에 전송한다.
5. 브라우저는 이 데이터 패킷들을 하나로 합쳐서 웹사이트를 브라우저에 렌더링한다.

### DNS(Domain Name Server)

실제 웹 주소는 IP주소로 되어있음. 58.127.32.24:3000과 같은형태라서 사람이 기억할 수 없음. 그래서 우리가 알고있는 [google.com](http://google.com) 같은 주소를 IP 주소와 연결시켜주는 DNS 서버가 따로 존재한다.

### HTTP

클라이언트와 서버가 서로 통신 할 수 있게 하기 위한 언어를 정의하는 프로토콜 정도로만 일단은 알고 있고 나중에 좀 더 자세하게 다뤄보자.

### TCP/IP

Transmission Control Protocol, Internet Protocol

- TCP : 컴퓨터가 다른 컴퓨터와 데이터 통신을 하기위한 프로토콜.
- IP : 보내는 컴퓨터와 받는 컴퓨터 사이의 통신에서 각자를 식별하기 위한 프로토콜.

# 웹의 개발은 어떻게?
참고사항

### 첫번째, 요구사항을 정의
어떤걸 만들고 싶은지? 어떤 걸 만들지 정했다면 다음은, 그것을 만들기 위해서는 어떤 기능이 필요하고 그 기능에는 어떤 기대 성능이 있어야 하는가 등...

예) 우리가 만들고 싶은건 가계부다. 가계부에 필요한 건 뭐가 있을까? 금액 입력하는 기능, 금액을 한눈에 볼 수 있는 기능 등

### 두번째, 와이어프레임과 디자인
기획이 다 끝나면 어떻게 만들지 디자인을 한다. 이때 와이어프레임이 있으면 본격적인 디자인을 하는데 도움이 많이된다. 디자인은 주로 프로토타이핑 도구를 이용하는데, `Figma`, `Zeplin`, `Adobe XD` 등이 있다. 우리는 `Figma`를 사용할 거다.

### 세번째, 기술 스택 선정
무엇을 만들건지 정해졌으면 이제 어떻게 만들까를 정해야한다. 서비스의 특징에 따라서 다른 기술을 선택할 수 있다.

예) 가계부는 웹으로 만들면 좋을 것 같다. 그럼 앱을 개발하기 위해서는 React를 사용하자. 서버도 필요하겠네, ExpressJS로 만들자.

### 네번째, 개발
어떤 기술로 개발할지 다 정했으면, 개발 시작. 프론트엔드(웹 클라이언트)와 백엔드(서버)로 구분

#### 마크업
HTML, CSS로 디자인을 코드로 옮기는 과정 (프로그래밍 언어가 아니라 기능까지는 구현이 안된다.)

#### 기능 붙이기
Javascript를 붙여서 기능을 붙인다. (서버에서 데이터를 받아오기, 버튼 누르면 다른 화면으로 이동하기 등)

#### 테스트
잘 작동하는지 테스트. 수작업도 있지만 프로그래밍적인 방법도 있다.

### 다섯번째, 배포
만들었으면 인터넷상에 올려서 누구나 인터넷에 접속만 하면 사용할 수 있도록 하자.

예) 가계부 웹을 만들었으니, 그걸 인터넷에 올리고, 브라우저에 주소(url)만 치면 들어갈 수 있게 하자.
